<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coffee Website</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link  rel="stylesheet" href="./style.css">
</head>
<body>
<header>
    <a href="#" class="logo">
        <img src="./img/logo.png">
    </a>
    <i class='bx bx-menu' id="menu-icon"></i>
    <ul class="navbar">
        <li><a href="#home">Home </a></li>
        <li><a href="#about">About Us </a></li>
        <li><a href="#products">Product </a></li>
        <li><a href="#customer">Customers </a></li>
    </ul>
<div class="header-icon">
    <i class='bx bx-cart-alt'></i>
    <i class='bx bx-search' id="search-icon"></i>
</div>
<!--    search-box-->
    <div class="search-box">
        <input type="search" name="" id="" placeholder="Search here...">
    </div>

</header>
<section class="home" id="home">
    <div class="home-text">
      <h1>Start your day<br> with coffee</h1>
       <p>Mục đích tối hậu duy nhất của sự tiến hoá văn minh nhân loại cũng chỉ là để đạt tới sự đồng nhất, thống nhất, hợp nhất và đại đồng nhân loại trong một cuộc sống thái bình, hoà bình, hạnh phúc, trường tồn và miên viễn. Đây chính là cơ hội và cũng chính là Thiên Mệnh vĩ đại định sẵn cho dân tộc Việt của chúng ta!

       </p>
        <a href="#" class="btn"> Shop now</a>
    </div>
    <div class="home-img">
        <img src="./img/main.png">
    </div>
</section>
<!--about-->
<section class="about" id="about">
    <div class="about-img">
    <img src="./img/about.jpg">
    </div>
    <div class="about-text">
        <h2>Our history</h2>
        <p>Từ niềm đam mê khám phá hương vị ở những vùng đất mới, những nghệ nhân KATINAT không ngừng theo đuổi sứ mệnh mang đến phong vị mới cho khách hàng. Sự kết hợp của nguồn nguyên liệu tinh hoa dưới bàn tay của nghệ nhân KATINAT sẽ mang đến cho khách hàng những trải nghiệm cảm nhận hương vị tinh tế và khó quên. </p>
       <p>Dưới bàn tay của nghệ nhân tại KATINAT, từng cốc cà phê trở thành một cuộc phiêu lưu hương vị đầy mới lạ.</p>
       <a href="#" class="btn">Learn More</a>
    </div>
</section>
<h1 style="text-align: center" >Quản Lý Shop Coffee</h1>
<nav style="display: flex; gap: 30px;" >
    <div   >
        <label>Name Drink</label>
        <input  type="text" id="name">
    </div>
    <div >
        <label>Price</label>
        <input  type="number" id="price">
    </div>
    <div>
        <label>Type Drink</label>
        <input type="text" id="type">
    </div>
<div style="display: flex; flex-direction: column;">
    <form >
        <!--        <label for="imageInput">Image Path</label>-->
        <input  type="text" id="imagePath" readonly onclick="document.getElementById('image').click();" placeholder="Click to select an image">
        <input type="file" id="image" name="imageUpload" accept="image/*" style="display: none;" onchange="previewImage(event)">
        <br><br>
        <img id="imagePreview" alt="Xem trước hình ảnh" style="display: none; max-width: 300px;">
    </form>
</div>
<div style="display: flex; align-items: center;" >
    <button class="btn-product" onclick="addNewProduct()">Add Product</button>
</div>



</nav>
<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Name Drink</th>
        <th>Price</th>
        <th>Type Drink</th>
        <th>Drink Photo</th>
        <th colspan="2">Action</th>
    </tr>
    </thead>
    <tbody id="tbody">

    </tbody>
</table>

<section class="footer">
    <div class="footer-box">
        <h2>Coffee Shop</h2>
        <p>hjdsbhjvgdsjvgdsgv</p>
        <div class="social">
            <a href="#"><i class='bx bxl-facebook'></i></a>
            <a href="#"><i class='bx bxl-instagram'></i></a>
            <a href="#"><i class='bx bxl-tiktok'></i></a>

        </div>
    </div>
    <div class="footer-box">
        <h3>View Guides</h3>
        <li><a href="#">Features</a></li>
        <li><a href="#">Carers</a></li>
        <li><a href="#">Blog Posts </a></li>
        <li><a href="#">Our Branches</a></li>

    </div>
    <div class="footer-box">
        <h3>Contact</h3>
            <div class="contact">
                <span><i class='bx bx-map' ></i>10 Nguyen Du, Phuong Thanh Binh, Quan Hai Chau</span>
                <span><i class='bx bx-phone' ></i>0983 407 348</span>
                <span><i class='bx bx-envelope' ></i>coffeeshop@gmail.com</span>
            </div>

    </div>
</section>
<script >
    let search = document.querySelector('.search-box')
    document.querySelector('#search-icon').onclick =() =>{
        search.classList.toggle('active')
    }

    class Product{
        constructor(name, price, type, img) {
            this.name = name;
            this.price = price;
            this.type = type;
            this.img = img;
        }

        setName(name){
            this.name = name;
        }
        getName(){
            return this.name;
        }

        setPrice(price){
            this.price = price;
        }
        getPrice(){
            return this.price;
        }

        setType(type){
            this.type = type;
        }
        getType(){
            return this.type;
        }

        setImage(img){
            this.img = img;
        }
        getImage(){
            return this.img;
        }
    }

    let product1 = new Product("Black Coffee", 25000, "Cold/Hot", "product1.png");
    let product2 = new Product("White Coffee", 30000, "Cold/Hot", "product2.jpg");
    let product3 = new Product("Espresso", 45000, "Hot", "product3.webp");

    let array = [product1, product2, product3];

    function displayProduct(arr) {
        let str = "";
        for (let i = 0; i < arr.length; i++) {
            str += "<tr>" +
                "<td>" + arr[i].getName() + "</td>" +
                "<td>" + arr[i].getPrice() + "</td>" +
                "<td>" + arr[i].getType() + "</td>" +
                "<td><img src='" + arr[i].getImage() + "' alt='" + arr[i].getName() + "' style='width: 50px;'></td>" +
                "<td><button onclick='updateProduct(" + i + ")'  >Edit</button></td>" +
                "<td><button onclick='deleteProduct(" + i + ")'>Delete</button></td>" +
                "</tr>";
        }
        document.getElementById("tbody").innerHTML = str;
    }

    function addNewProduct() {
        let productName = document.getElementById("name").value;
        let productPrice = document.getElementById("price").value;
        let productType = document.getElementById("type").value;
        let imageInput = document.getElementById("image");
        let productImage = imageInput.files[0] ? URL.createObjectURL(imageInput.files[0]) : "default.png";

        let product = new Product(productName, productPrice, productType, productImage);
        array.unshift(product);

        document.getElementById("name").value = "";
        document.getElementById("price").value = "";
        document.getElementById("type").value = "";
        document.getElementById("image").value = "";

        alert("Add new product successfully");
        displayProduct(array);
    }

    function deleteProduct(i) {
        let check = confirm("Are you sure to delete " + array[i].getName() + "?");
        if (check) {
            array.splice(i, 1);
            alert("Delete successfully");
        }
        displayProduct(array);
    }
    function updateProduct(i) {
        let productName = prompt("Nhập tên sản phẩm", array[i].getName());
        let productPrice = +prompt("Nhập giá tiền", array[i].getPrice());
        let productType = prompt("Nhập loại đồ uống", array[i].getType());


        let tempInput = document.createElement("input");
        tempInput.type = "file";
        tempInput.accept = "image/*";

        tempInput.onchange = function(event) {
            let selectedFile = event.target.files[0];
            if (selectedFile) {
                let productImage = URL.createObjectURL(selectedFile);
                array[i].setImage(productImage);
            }

            array[i].setName(productName);
            array[i].setPrice(productPrice);
            array[i].setType(productType);

            displayProduct(array);
        };


        tempInput.click();
    }
    function previewImage(event) {
        let imageInput = event.target;
        let imagePreview = document.getElementById("imagePreview");

        // Kiểm tra nếu có tệp được chọn
        if (imageInput.files && imageInput.files[0]) {
            let reader = new FileReader();

            reader.onload = function(e) {
                // Cập nhật thuộc tính src của img với đường dẫn của ảnh đã chọn
                imagePreview.src = e.target.result;
                imagePreview.style.display = "block"; // Hiển thị ảnh
            };

            reader.readAsDataURL(imageInput.files[0]); // Đọc nội dung của tệp ảnh
        } else {
            // Ẩn hình ảnh nếu không có tệp nào được chọn
            imagePreview.style.display = "none";
            imagePreview.src = "#";
        }
    }

    displayProduct(array);
</script>

</body>
</html>